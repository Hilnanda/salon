<!--author: gengchao-->
<template>
<div>
<el-upload
  class="upload-demo"
  action="uploadObj.url"
  :on-preview="handlePreview"
  :on-remove="handleRemove"
  :file-list="fileList"
  ref="upload"
  :auto-upload="false">
  <a class="btn btn-primary fileinput-button" style="display: inline-block;">
     选择文件 <i class="fa fa-upload fa-lg"></i>
  </a>
  <!-- <el-button slot="trigger" size="small" type="primary">选取文件</el-button>
  <el-button style="margin-left: 10px;" size="small" type="success" @click="submitUpload">上传到服务器</el-button> -->
  <!-- <div slot="tip" class="el-upload__tip">只能上传jpg/png文件，且不超过500kb</div> -->
</el-upload>
</div>
</template>
<script>
  export default {
    props: {
      // uploadmode: { // 过滤方式；0:代表本地过滤，1：服务器过滤
      //   type: Number,
      //   default: 0
      // },
      uploadObj: {
        type: Array,
        default: []
      }
    },
    data () {
      return {
        fileList: [{name: 'food.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100'}, {name: 'food2.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100'}]
      }
    },
    methods: {
      submitUpload () {
        this.$refs.upload.submit()
      },
      handleRemove (file, fileList) {
        console.log(file, fileList)
      },
      handlePreview (file) {
        console.log(file)
      }
    }
  }
</script>
<style>
.fileinput-button {
    position: relative;
    overflow: hidden;
    display: inline-block;
    cursor: pointer;
}
.btn-primary {
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
}
.fileinput-button input {
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    opacity: 0;
    -ms-filter: 'alpha(opacity=0)';
    font-size: 200px !important;
    direction: ltr;
    cursor: pointer;
}
input[type="file" ] {
    align-items: baseline;
    color: inherit;
    text-align: start;
    opacity: 0;
    -ms-filter: 'alpha(opacity=0)';
    position: absolute;
}
</style>
